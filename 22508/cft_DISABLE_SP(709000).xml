Невозможно отправить запрос на прохождение контроля операции в ТС, т.к. отсутствует идентификатор операции в ТС
	
Скрыть детализацию
Дата: 25.08.2021 14:56:24
IP сервера: dev.vtb.it-spectrum.ru:9282
Версия приложения: 12.8.51.0-build-20210825140052
При смене статуса операции на "Не подтверждена" возникла ошибка на этапе "Обработка дополнительных статусов операций". Невозможно отправить запрос на прохождение контроля операции в ТС, т.к. отсутствует идентификатор операции в ТС

spectrum.bc.common.workflow.WorkflowTaskHandlerException: Невозможно отправить запрос на прохождение контроля операции в ТС, т.к. отсутствует идентификатор операции в ТС at spectrum.vtb24.tsclient.TsSendControlOperationHandler.handleInternal(TsSendControlOperationHandler.java:45) at spectrum.vtb24.workflow.WorkflowOperJournalTaskHandlerBase.handle(WorkflowOperJournalTaskHandlerBase.java:99) at spectrum.vtb24.tsclient.TsSendInitOrControlOperationHandler.controlOperation(TsSendInitOrControlOperationHandler.java:28) at spectrum.vtb24.tsclient.TsSendInitOrControlOperationHandler.handleInternal(TsSendInitOrControlOperationHandler.java:18) at spectrum.vtb24.workflow.WorkflowOperJournalTaskHandlerBase.handle(WorkflowOperJournalTaskHandlerBase.java:99) at spectrum.bc.common.workflow.WorkflowServiceImpl.doTask(WorkflowServiceImpl.java:555) at spectrum.bc.common.workflow.WorkflowServiceImpl.processAutoTasks(WorkflowServiceImpl.java:480) at spectrum.bc.common.workflow.WorkflowServiceImpl.changeExtStatus(WorkflowServiceImpl.java:375) at spectrum.bc.common.workflow.WorkflowServiceImpl.setFirstExtStatus(WorkflowServiceImpl.java:99) at sun.reflect.GeneratedMethodAccessor2831.invoke(Unknown Source) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at ru.it_spectrum.core.adf.CoreInvocationHandler.invoke(CoreInvocationHandler.java:55) at com.sun.proxy.$Proxy816.setFirstExtStatus(Unknown Source) at spectrum.bc.fo.journal.transit.workflow.WorkflowTransitHandler.handle(WorkflowTransitHandler.java:54) at spectrum.bc.fo.journal.transit.TransitMap.handleTransit(TransitMap.java:238) at spectrum.bc.fo.journal.transit.OperStatusChanger.transit(OperStatusChanger.java:106) at spectrum.bc.fo.journal.JournalServiceImpl.changeOperStatusExtended(JournalServiceImpl.java:440) at spectrum.bc.fo.journal.JournalServiceImpl.controlPassed(JournalServiceImpl.java:1540) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at ru.it_spectrum.core.adf.CoreInvocationHandler.invoke(CoreInvocationHandler.java:55) at com.sun.proxy.$Proxy793.controlPassed(Unknown Source) at spectrum.ui.front.operation.control.UnconfOperNeedingMonitoringManager.monitoringIsSuccessful(UnconfOperNeedingMonitoringManager.java:280) at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.lang.reflect.Method.invoke(Method.java:498) at com.sun.el.util.ReflectionUtil.invokeMethod(ReflectionUtil.java:181) at com.sun.el.parser.AstValue.invoke(AstValue.java:289) at com.sun.el.MethodExpressionImpl.invoke(MethodExpressionImpl.java:304) at org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40) at org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50) at org.jboss.weld.util.el.ForwardingMethodExpression.invoke(ForwardingMethodExpression.java:40) at org.jboss.weld.el.WeldMethodExpression.invoke(WeldMethodExpression.java:50) at com.sun.faces.facelets.el.TagMethodExpression.invoke(TagMethodExpression.java:105) at org.apache.myfaces.trinidad.component.MethodExpressionMethodBinding.invoke(MethodExpressionMethodBinding.java:46) at spectrum.ui.common.framework.ActionListenerImpl.doBindingMethod(ActionListenerImpl.java:75) at spectrum.ui.common.framework.ActionListenerImpl.processAction(ActionListenerImpl.java:60) at org.apache.myfaces.trinidad.component.UIXCommand.broadcast(UIXCommand.java:190) at org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364) at org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82) at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent$1.run(ContextSwitchingComponent.java:168) at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent._processPhase(ContextSwitchingComponent.java:510) at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent.broadcast(ContextSwitchingComponent.java:171) at org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364) at org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82) at oracle.adf.view.rich.component.fragment.UIXInclude.broadcast(UIXInclude.java:111) at org.apache.myfaces.trinidad.component.UIXComponent.broadcastInContext(UIXComponent.java:364) at org.apache.myfaces.trinidad.component.WrapperEvent.broadcastWrappedEvent(WrapperEvent.java:82) at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent$1.run(ContextSwitchingComponent.java:168) at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent._processPhase(ContextSwitchingComponent.java:510) at oracle.adf.view.rich.component.fragment.ContextSwitchingComponent.broadcast(ContextSwitchingComponent.java:171) at oracle.adf.view.rich.component.fragment.UIXInclude.broadcast(UIXInclude.java:115) at javax.faces.component.UIViewRoot.broadcastEvents(UIViewRoot.java:790) at javax.faces.component.UIViewRoot.processApplication(UIViewRoot.java:1282) at oracle.adfinternal.view.faces.lifecycle.LifecycleImpl._invokeApplication(LifecycleImpl.java:1207) at oracle.adfinternal.view.faces.lifecycle.LifecycleImpl._executeInvokeApplication(LifecycleImpl.java:607) at oracle.adfinternal.view.faces.lifecycle.LifecycleImpl._executePhase(LifecycleImpl.java:348) at oracle.adfinternal.view.faces.lifecycle.LifecycleImpl.execute(LifecycleImpl.java:224) at javax.faces.webapp.FacesServlet.service(FacesServlet.java:650) at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:286) at weblogic.servlet.internal.StubSecurityHelper$ServletServiceAction.run(StubSecurityHelper.java:260) at weblogic.servlet.internal.StubSecurityHelper.invokeServlet(StubSecurityHelper.java:137) at weblogic.servlet.internal.ServletStubImpl.execute(ServletStubImpl.java:350) at weblogic.servlet.internal.TailFilter.doFilter(TailFilter.java:25) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at spectrum.ui.common.usermenu.CurrentMenuItemFilter.doFilter(CurrentMenuItemFilter.java:36) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at spectrum.ui.common.cluster.ClusterEventFilter.doFilter(ClusterEventFilter.java:69) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at oracle.adfinternal.view.faces.webapp.rich.RegistrationFilter.doFilter(RegistrationFilter.java:105) at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl$FilterListChain.doFilter(TrinidadFilterImpl.java:529) at oracle.adfinternal.view.faces.activedata.AdsFilter.doFilter(AdsFilter.java:60) at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl$FilterListChain.doFilter(TrinidadFilterImpl.java:529) at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl._doFilterImpl(TrinidadFilterImpl.java:354) at org.apache.myfaces.trinidadinternal.webapp.TrinidadFilterImpl.doFilter(TrinidadFilterImpl.java:232) at org.apache.myfaces.trinidad.webapp.TrinidadFilter.doFilter(TrinidadFilter.java:92) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at spectrum.ui.common.security.AutorizationFilterBase.doFilter(AutorizationFilterBase.java:54) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at oracle.adf.library.webapp.LibraryFilter.doFilter(LibraryFilter.java:166) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at oracle.adf.library.webapp.LibraryFilter.doFilter(LibraryFilter.java:166) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at oracle.adf.model.servlet.ADFBindingFilter.doFilter(ADFBindingFilter.java:194) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at oracle.security.jps.ee.http.JpsAbsFilter$1.run(JpsAbsFilter.java:141) at java.security.AccessController.doPrivileged(Native Method) at oracle.security.jps.util.JpsSubject.doAsPrivileged(JpsSubject.java:315) at oracle.security.jps.ee.util.JpsPlatformUtil.runJaasMode(JpsPlatformUtil.java:649) at oracle.security.jps.ee.http.JpsAbsFilter.runJaasMode(JpsAbsFilter.java:124) at oracle.security.jps.ee.http.JpsAbsFilter.doFilter(JpsAbsFilter.java:232) at oracle.security.jps.ee.http.JpsFilter.doFilter(JpsFilter.java:94) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at org.apache.logging.log4j.web.Log4jServletFilter.doFilter(Log4jServletFilter.java:71) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at weblogic.servlet.internal.RequestEventsFilter.doFilter(RequestEventsFilter.java:32) at weblogic.servlet.internal.FilterChainImpl.doFilter(FilterChainImpl.java:78) at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.wrapRun(WebAppServletContext.java:3654) at weblogic.servlet.internal.WebAppServletContext$ServletInvocationAction.run(WebAppServletContext.java:3620) at weblogic.security.acl.internal.AuthenticatedSubject.doAs(AuthenticatedSubject.java:326) at weblogic.security.service.SecurityManager.runAsForUserCode(SecurityManager.java:196) at weblogic.servlet.provider.WlsSecurityProvider.runAsForUserCode(WlsSecurityProvider.java:203) at weblogic.servlet.provider.WlsSubjectHandle.run(WlsSubjectHandle.java:71) at weblogic.servlet.internal.WebAppServletContext.doSecuredExecute(WebAppServletContext.java:2423) at weblogic.servlet.internal.WebAppServletContext.securedExecute(WebAppServletContext.java:2280) at weblogic.servlet.internal.WebAppServletContext.execute(WebAppServletContext.java:2258) at weblogic.servlet.internal.ServletRequestImpl.runInternal(ServletRequestImpl.java:1626) at weblogic.servlet.internal.ServletRequestImpl.run(ServletRequestImpl.java:1586) at weblogic.servlet.provider.ContainerSupportProviderImpl$WlsRequestExecutor.run(ContainerSupportProviderImpl.java:270) at weblogic.invocation.ComponentInvocationContextManager._runAs(ComponentInvocationContextManager.java:348) at weblogic.invocation.ComponentInvocationContextManager.runAs(ComponentInvocationContextManager.java:333) at weblogic.work.LivePartitionUtility.doRunWorkUnderContext(LivePartitionUtility.java:54) at weblogic.work.PartitionUtility.runWorkUnderContext(PartitionUtility.java:41) at weblogic.work.SelfTuningWorkManagerImpl.runWorkUnderContext(SelfTuningWorkManagerImpl.java:617) at weblogic.work.ExecuteThread.execute(ExecuteThread.java:397) at weblogic.work.ExecuteThread.run(ExecuteThread.java:346)